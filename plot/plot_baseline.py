import numpy as np
import matplotlib.pyplot as plt
import time


FL = np.array([10.333,9.930,10.442,16.047,16.948,21.710,18.192,26.810,22.722,21.812,22.928,35.915,19.535,36.510,27.758,27.633,35.067,37.070,41.868,42.377,43.107,36.937,45.127,42.965,43.703,43.823,48.525,45.943,48.722,39.483,41.460,52.738,39.362,46.040,40.502,33.472,39.107,45.062,52.897,50.310,55.958,49.958,36.792,54.437,47.580,44.957,46.488,49.323,40.378,54.300,49.180,36.327,57.865,49.253,46.752,55.067,55.485,53.262,44.277,51.330,41.787,48.902,53.017,50.052,29.857,44.313,51.175,53.833,58.255,54.937,54.573,54.818,52.662,55.548,43.897,57.198,55.090,47.270,54.945,54.208,59.755,51.960,57.237,58.678,55.223,55.813,52.625,48.027,51.697,56.535,36.928,49.662,57.763,51.268,50.688,57.203,55.997,51.725,47.352,41.352,53.928,54.628,54.372,57.700,42.093,59.512,55.453,54.633,60.393,54.092,57.937,36.960,56.808,57.473,53.065,60.967,55.797,54.902,60.347,40.865,48.653,51.755,49.718,55.418,55.175,57.033,56.168,58.267,52.975,54.397,51.780,58.805,58.313,50.417,56.740,52.262,58.717,56.220,59.945,56.807,57.207,61.678,59.135,59.372,58.967,60.675,57.235,58.810,56.645,55.625,55.915,49.832,45.877,55.025,53.302,60.160,41.020,58.333,53.762,63.353,56.850,42.810,55.793,52.022,61.058,61.427,55.307,57.907,58.008,44.790,56.457,46.767,50.410,54.215,56.968,60.247,60.173,56.257,57.367,62.782,54.222,61.685,61.165,61.640,59.440,58.227,57.488,49.853,56.252,57.283,59.200,61.087,57.312,62.750,58.145,55.180,63.270,51.732,46.465,55.747,61.522])/100

flag = np.array([0.1745,0.2365,0.2681,0.2591,0.2824,0.2965,0.3055,0.2963,0.3112,0.3100,0.3080,0.3174,0.3220,0.3221,0.3186,0.3246,0.3225,0.3275,0.3287,0.3286,0.3384,0.3370,0.3360,0.3392,0.3383,0.3424,0.3323,0.3421,0.3375,0.3416,0.3445,0.3412,0.3443,0.3462,0.3406,0.3462,0.3432,0.3439,0.3364,0.3456,0.3500,0.3477,0.3452,0.3470,0.3474,0.3487,0.3475,0.3460,0.3475,0.3522,0.3537,0.3483,0.3550,0.3446,0.3528,0.3505,0.3513,0.3528,0.3526,0.3547,0.3518,0.3524,0.3540,0.3507,0.3550,0.3542,0.3489,0.3510,0.3556,0.3501,0.3566,0.3575,0.3528,0.3492,0.3568,0.3595,0.3567,0.3573,0.3568,0.3570,0.3560,0.3544,0.3516,0.3605,0.3558,0.3593,0.3603,0.3560,0.3616,0.3591,0.3590,0.3580,0.3588,0.3613,0.3574,0.3586,0.3613,0.3617,0.3594,0.3595])

target_only = np.array([0.7510,0.7721,0.7829,0.8081,0.8004,0.8038,0.7956,0.8055,0.8026,0.8025,0.8176,0.8101,0.8077,0.8192,0.8029,0.8161,0.8071,0.8070,0.8188,0.7898,0.8208,0.8162,0.8112,0.8169,0.8166,0.8220,0.8122,0.7917,0.8130,0.8074,0.8239,0.8189,0.8100,0.8132,0.8138,0.7960,0.8162,0.8174,0.8095,0.8190,0.8177,0.8140,0.8201,0.8131,0.8038,0.8176,0.8157,0.8235,0.8156,0.8139,0.8014,0.8300,0.8219,0.8106,0.8231,0.8274,0.7825,0.7691,0.8217,0.8155,0.8196,0.8242,0.8151,0.8201,0.8079,0.8246,0.8170,0.7970,0.8139,0.8099,0.8246,0.8131,0.8247,0.7680,0.8231,0.8094,0.8275,0.7204,0.8208,0.8266,0.8290,0.8206,0.8200,0.8258,0.8217,0.8289,0.8198,0.8000,0.8267,0.8235,0.8270,0.8195,0.8116,0.8197,0.8127,0.8272,0.8168,0.8075,0.8221,0.8256])

ft = np.array([0.1879,0.1996,0.2319,0.2120,0.2180,0.2423,0.1938,0.2044,0.2228,0.2003,0.2199,0.2191,0.2438,0.2282,0.2490,0.2248,0.2416,0.2411,0.2496,0.2138,0.2196,0.2309,0.2373,0.2311,0.2195,0.2273,0.1865,0.2129,0.1946,0.2269,0.2545,0.2471,0.2617,0.2098,0.2241,0.2216,0.2619,0.2308,0.2541,0.2478,0.2796,0.1934,0.2372,0.2480,0.2236,0.2334,0.2103,0.2339,0.2218,0.2389,0.2295,0.2686,0.2632,0.2185,0.2310,0.2502,0.2013,0.1945,0.2544,0.2378,0.2654,0.2233,0.2129,0.2383,0.2319,0.2722,0.2680,0.2153,0.2304,0.2692,0.2206,0.2296,0.2683,0.2315,0.2215,0.2540,0.2348,0.2746,0.2580,0.2600,0.2580,0.2301,0.2244,0.2656,0.2362,0.2517,0.2422,0.2489,0.2581,0.2446,0.2190,0.2656,0.2400,0.2525,0.2218,0.2541,0.2391,0.2220,0.2627,0.2774])

source_only = np.array([0.1779]*100)



# plt.plot(range(len(FL)), FL)
# plt.xlabel("epoch")
# plt.ylabel("acc")
# plt.title("MNIST_r_200_Fe_5")
# plt.plot()
# plt.savefig("./plot/MNIST_MNIST-M_r_200_Fe_5_fe_100/FL.jpg")


plt.plot(range(len(flag)), flag, label = "random-finetune")
plt.plot(range(len(ft)), ft, label = "FL-finetune")
plt.plot(range(len(target_only)), target_only, label = "target_only")
plt.plot(range(len(source_only)), source_only, label = "source_only")

plt.xlabel("epoch")
plt.ylabel("acc")
plt.ylim(0,1)
plt.legend()
plt.title("MNIST_MNIST-M_r_200_Fe_5_fe_100")
plt.plot()
plt.savefig("./plot/MNIST_MNIST-M_r_200_Fe_5_fe_100/baseline.jpg")


